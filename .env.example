# ============================================
# 冬瓜TV 环境变量配置模板
# 复制此文件为 .env 并填写对应的值
# ============================================

# ========== 必填配置 ==========

# TMDB API Key (必填)
# 获取方式: https://www.themoviedb.org/settings/api
TMDB_API_KEY=your_api_key_here

# ========== 可选配置 ==========

# 运行端口 (默认 3000)
PORT=3000

# 访问密码 (可选)
# 单密码: ACCESS_PASSWORD=mypassword
# 多密码: ACCESS_PASSWORD=admin123,user456,guest789
# 注意: 第一个密码为管理员，不启用历史同步；其他密码启用历史同步
ACCESS_PASSWORD=

# 大陆用户 TMDB 反代地址 (可选)
# 如果服务器在大陆或主要面向大陆用户，需要配置此项以访问 TMDB
# 可使用 Cloudflare Workers 部署反代，参考 cloudflare-tmdb-proxy.js
# 示例: TMDB_PROXY_URL=https://tmdb-proxy.your-name.workers.dev
TMDB_PROXY_URL=

# 远程站点配置 URL (可选)
# 从远程 URL 加载站点配置，支持动态更新
# 留空则使用本地 db.json 文件
# 示例: REMOTE_DB_URL=https://example.com/sites.json
REMOTE_DB_URL=

# 资源站 CORS 代理 URL (可选)
# 当用户无法直接访问某些资源站 API 时，自动通过此代理中转请求
# 可使用 Cloudflare Workers 部署代理，参考: https://github.com/hafrey1/LunaTV-config
# 代理使用方式: CORS_PROXY_URL/?url=目标API地址
# 示例: CORS_PROXY_URL=https://cors-proxy.your-name.workers.dev
CORS_PROXY_URL=

# ========== 缓存配置 ==========

# 缓存类型 (可选)
# - json: JSON 文件缓存 (默认，适合本地/VPS 部署)
# - sqlite: SQLite 数据库缓存 (需要 better-sqlite3，支持历史同步)
# - memory: 内存缓存 (Vercel/Serverless 推荐)
# - none: 禁用缓存
CACHE_TYPE=json

# ========== Vercel 部署说明 ==========
# 在 Vercel 部署时:
# 1. CACHE_TYPE 建议设置为 memory (Serverless 无法持久化文件)
# 2. 本地图片缓存会自动禁用
# 3. 多用户历史同步功能需要 sqlite 缓存类型
